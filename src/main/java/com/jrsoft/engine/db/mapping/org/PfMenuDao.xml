<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.jrsoft.engine.dao.PfMenuDao">

  <!--新增菜单-->
  <insert id="insertMenu" parameterType="PfMenu">
    insert into PF_MENU (ID_,CODE_,TITLE_,TYPE_,ENABLE_,FORM_KEY_,PARENT_ID_,ICON_,PATH_,SORT_) VALUES
    (#{id},#{code},#{title},#{type},#{enable},#{formKey},#{parentId},#{icon},#{path},#{sort})
  </insert>
  <!--查询菜单-->
  <select id="getMenuById" resultType="PfMenu">
    SELECT ID_ id,CODE_ code,TITLE_ title,TYPE_ type,ENABLE_ enable,FORM_KEY_ formKey,PARENT_ID_ parentId,SORT_ sort,URI_ uri,
    PATH_ path,MOBILE_PATH_ mobilePath,ICON_ icon
    FROM PF_MENU where ID_=#{id}
  </select>

  <!-- PfMenuEntity UPDATE -->
  <update id="updatePfMenu" parameterType="PfMenu">
    update PF_MENU
    <set>
      <if test="code != null">
        CODE_ = #{code,jdbcType=VARCHAR},
      </if>
      <if test="title != null">
        TITLE_ = #{title,jdbcType=VARCHAR},
      </if>
      <if test="type != null">
        TYPE_ = #{type,jdbcType=VARCHAR},
      </if>
      <if test="category != null">
        CATEGORY_ = #{category,jdbcType=INTEGER},
      </if>
      <if test="parentId != null">
        PARENT_ID_ = #{parentId,jdbcType=VARCHAR},
      </if>
      <if test="formKey != null">
        FORM_KEY_ = #{formKey,jdbcType=VARCHAR},
      </if>
      <if test="params != null">
        PARAMS_ = #{params,jdbcType=VARCHAR},
      </if>
      <if test="app != null">
        APP_ = #{app,jdbcType=VARCHAR},
      </if>
      <if test="description != null">
        DESCRIPTION_ = #{description,jdbcType=VARCHAR},
      </if>
      <if test="icon != null">
        ICON_ = #{icon,jdbcType=VARCHAR},
      </if>
      <if test="path != null">
        PATH_ = #{path,jdbcType=VARCHAR},
      </if>
      <if test="mobilePath != null">
        MOBILE_PATH_ = #{mobilePath,jdbcType=VARCHAR},
      </if>
      <if test="uri != null">
        URI_ = #{uri,jdbcType=VARCHAR},
      </if>
      <if test="sort != null">
        SORT_ = #{sort,jdbcType=DOUBLE},
      </if>
      <if test="enable != null">
        ENABLE_ = #{enable,jdbcType=INTEGER},
      </if>
    </set>
    where ID_ = #{id,jdbcType=VARCHAR}
  </update>
</mapper>